# Проект для хакатона Студент года от команды HackStreet Boys
Тема "Sirius Digital Hack"

## Обзор

Проект состоит из двух частей:
- Фронтенд: Построен с использованием React, Vite и связанных библиотек.
- Бэкенд: Разработан на фреймворке NestJS с использованием TypeORM и PostgreSQL в качестве базы данных.

Проект настроен для одновременного запуска фронтенда и бэкенда с помощью concurrently.

## Требования

Для запуска проекта необходимо установить следующие компоненты:
- Git
- Node.js: Версия 18 или выше (https://nodejs.org/)
- npm: Устанавливается вместе с Node.js
- PostgreSQL 16 и выше: Установлен и запущен для работы с бэкендом

## Структура проекта

- frontend: Фронтенд на React.
- backend-nest: Бэкенд на NestJS.
- sirius-digital-hack: Основной проект, который включает в себя запуск фронтенда и бэкенда.

### Структура fired-forms-frontend

Все основные файлы хранятся в директории _src_:

- директория _api_ отвечает за связь баз данных, бэкэнда и фронтенда
- директория _components_ отвечает за отдельные компоненты, отображающиеся на веб-страницах
- директория _pages_ содержит веб-страницы проекта
- директория _assets_ содержит изображения
- директория _styles_ содержит таблицы стилей веб-страниц
- директория _routes_ методы универсального перехода между страницами

### Структура fired-forms-backend

Все основные файлы хранятся в директории _src_:

- директория _configs_ содержит файл конфигурации для корректной работы с БД
- директория _controlles_ содержит контроллеры, отвечающие за обработку запросов
- директория _dto_ отвечает за добавление новых сведений о сотрудниках
- директория _entities_ описывает связи данных в таблицах БД
- директория _migrations_ содержит файл миграции из БД
- директория _services_ методы передачи данных между БД и бэкендом
- директория _jwt_ отвечает за генерацию токенов для доступа к системе
- директория _yandexai-prompts_ содержит промпты дл работы нейросети YandexGPT

## Развертка решения

### 1. Клонирование репозитория
git clone <URL репозитория>
cd sirius-digital-hackathon

### 2. Установка зависимостей

#### Основной проект
Для того чтобы корректно работала команда одновременного запуска фронтенда и бэкенда, необходимо в обязательном порядке установить зависимости для основного проекта, для фронтенда и для бекенда:

#### 1. Устанавливаем зависимости для основного проекта (для одновременного запуска фронтенда и бекенда). Используйте любой терминал для ввода
npm install
#### 2. Устанавливаем зависимости для фронтеда
cd fired-forms-frontend
npm install
#### 3. Устанавливаем зависимости для бекенда
cd fired-forms-backend
npm install

### 3. Настройка базы данных PostgreSQL

1. Убедитесь, что PostgreSQL установлен и запущен.
2. Настройте параметры подключения к базе данных в файле fired-forms-backend/ormconfig.ts. Убедитесь, что имена баз данных совпадают и в файл конфигурации введён верный пароль

### 4. Выполнение миграций

Перед запуском бэкенда необходимо выполнить миграции базы данных, чтобы создать все необходимые таблицы и структуры:

1. Установите ts-node для проекта:
      npm install -g ts-node
   
2. Выполните миграцию БД:
      cd fired-forms-backend
   ts-node ./node_modules/typeorm/cli.js migration:run -d src/configs/ormconfig.ts
   

### 5. Запуск проекта

#### Одновременный запуск фронтенда и бэкенда
Для удобного запуска обоих сервисов одновременно используйте следующую команду в корневой директории проекта:

```bash
npm run all
```

#### Раздельный запуск фронтенда
```bash
npm run frontend
```

#### Раздельный запуск бэкенда
```bash
npm run backend
```
### 6. Работа с проектом
Решение предполагает работу в трёх режимах: manager (для получение отчёта по самым распространённым причинам увольнения), hr (для составления акта об увольнение HR-специалистом) и default (заполнение анкеты об увольнении со стороны сотрудника).

#### Режим manager
Логин: admin
Пароль: admin

Составление отчёта осуществляется не по тем данным, которые передаются из анкет, а по случайным данным, которые обрабатываются нейронной сетью. Нехватка времени не позволила разобраться с присоединеним бэкенда к фронтенду.

#### Режим hr
Логин: admin1
Пароль: admin1

HR может заполнить анкету по причинам увольнения. Данные отправляются в БД, но нигде не используются, при отправке анкеты ответы на вопросы сопоставляются нейросетью YandexGPT с готовым пресетом категорий в базе данных.

#### Режим default
Логин: admin2
Пароль: admin2

Сотрудник может заполнить анкету по по причинам увольнения. Данные отправляются в БД, но нигде не используются, при отправке анкеты ответы на вопросы сопоставляются нейросетью YandexGPT с готовым пресетом категорий в базе данных.

**Готовый отчёт** предствляет собой четыре графика, которые составлются из случайных данных.

### 6. Предполагаемый результат
Конечным итогом должен был стать отчёт, содержащий график на каждый вопрос. Данные, должны были браться из базы данных (заполненных анкетах), обрабатываться и выводить статистику о причинах увольнения в соотвествии с распространенными причинами.

#### Фронтенд находится по адресу http://localhost:5137
#### Документация бекенда находится по адресу http://localhost:3000/api

## Состав команды 
 - Андрей Стародубов (@andrew-dot-exe)
 - Даниил Купцов (@Danik3813)
 - Дмитрий Никифоров (@DimaNik5)
 - Никита Ярощук (@howwow0)
 
&copy; HackStreet Boys, 2024.
